<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="generator" content="JsDoc Toolkit" />
		
		<title>JsDoc Reference - ScriptUtils_QueryHelper</title>

		<style type="text/css">
			/* default.css */
body
{
	font: 12px "Lucida Grande", Tahoma, Arial, Helvetica, sans-serif;
	width: 800px;
}

.header
{
	clear: both;
	background-color: #ccc;
	padding: 8px;
}

h1
{
	font-size: 150%;
	font-weight: bold;
	padding: 0;
	margin: 1em 0 0 .3em;
}

hr
{
	border: none 0;
	border-top: 1px solid #7F8FB1;
	height: 1px;
}

pre.code
{
	display: block;
	padding: 8px;
	border: 1px dashed #ccc;
}

#index
{
	margin-top: 24px;
	float: left;
	width: 160px;
	position: absolute;
	left: 8px;
	background-color: #F3F3F3;
	padding: 8px;
}

#content
{
	margin-left: 190px;
	width: 600px;
}

.classList
{
	list-style-type: none;
	padding: 0;
	margin: 0 0 0 8px;
	font-family: arial, sans-serif;
	font-size: 1em;
	overflow: auto;
}

.classList li
{
	padding: 0;
	margin: 0 0 8px 0;
}

.summaryTable { width: 100%; }

h1.classTitle
{
	font-size:170%;
	line-height:130%;
}

h2 { font-size: 110%; }
caption, div.sectionTitle
{
	background-color: #7F8FB1;
	color: #fff;
	font-size:130%;
	text-align: left;
	padding: 2px 6px 2px 6px;
	border: 1px #7F8FB1 solid;
}

div.sectionTitle { margin-bottom: 8px; }
.summaryTable thead { display: none; }

.summaryTable td
{
	vertical-align: top;
	padding: 4px;
	border-bottom: 1px #7F8FB1 solid;
	border-right: 1px #7F8FB1 solid;
}

/*col#summaryAttributes {}*/
.summaryTable td.attributes
{
	border-left: 1px #7F8FB1 solid;
	width: 140px;
	text-align: right;
}

td.attributes, .fixedFont
{
	line-height: 15px;
	color: #002EBE;
	font-family: "Courier New",Courier,monospace;
	font-size: 13px;
}

.summaryTable td.nameDescription
{
	text-align: left;
	font-size: 13px;
	line-height: 15px;
}

.summaryTable td.nameDescription, .description
{
	line-height: 15px;
	padding: 4px;
	padding-left: 4px;
}

.summaryTable { margin-bottom: 8px; }

ul.inheritsList
{
	list-style: square;
	margin-left: 20px;
	padding-left: 0;
}

.detailList {
	margin-left: 20px; 
	line-height: 15px;
}
.detailList dt { margin-left: 20px; }

.detailList .heading
{
	font-weight: bold;
	padding-bottom: 6px;
	margin-left: 0;
}

.light, td.attributes, .light a:link, .light a:visited
{
	color: #777;
	font-style: italic;
}

.fineprint
{
	text-align: right;
	font-size: 10px;
}
		</style>
	</head>

	<body>
<!-- ============================== header ================================= -->	
		<!-- begin static/header.html -->
		<div id="header">
</div>
		<!-- end static/header.html -->

<!-- ============================== classes index ============================ -->
		<div id="index">
			<!-- begin publish.classesIndex -->
			<div align="center"><a href="../index.html">Class Index</a>
| <a href="../files.html">File Index</a></div>
<hr />
<h2>Classes</h2>
<ul class="classList">
	
	<li><i><a href="../symbols/_global_.html">_global_</a></i></li>
	
	<li><a href="../symbols/ScriptUtils_QueryHelper.html">ScriptUtils_QueryHelper</a></li>
	
</ul>
<hr />
			<!-- end publish.classesIndex -->
		</div>
		
		<div id="content">
<!-- ============================== class title ============================ -->
			<h1 class="classTitle">
				
				Class ScriptUtils_QueryHelper
			</h1>

<!-- ============================== class summary ========================== -->			
			<p class="description">
				
				
			
				ScriptUtils_QueryHelper
				
				
					<br /><i>Defined in: </i> <a href="../symbols/src/ScriptUtils_QueryHelper.js.html">ScriptUtils_QueryHelper.js</a>.
				
			</p>

<!-- ============================== constructor summary ==================== -->			
			
			<table class="summaryTable" cellspacing="0" summary="A summary of the constructor documented in the class ScriptUtils_QueryHelper.">
				<caption>Class Summary</caption>
				<thead>
					<tr>
						<th scope="col">Constructor Attributes</th>
						<th scope="col">Constructor Name and Description</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td class="attributes">&nbsp;</td>
						<td class="nameDescription" >
							<div class="fixedFont">
								<b><a href="../symbols/ScriptUtils_QueryHelper.html#constructor">ScriptUtils_QueryHelper</a></b>()
							</div>
							<div class="description"></div>
						</td>
					</tr>
				</tbody>
			</table>
			

<!-- ============================== properties summary ===================== -->
			

<!-- ============================== methods summary ======================== -->
			
				
				
				<table class="summaryTable" cellspacing="0" summary="A summary of the methods documented in the class ScriptUtils_QueryHelper.">
					<caption>Method Summary</caption>
					<thead>
						<tr>
							<th scope="col">Method Attributes</th>
							<th scope="col">Method Name and Description</th>
						</tr>
					</thead>
					<tbody>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/ScriptUtils_QueryHelper.html#addArray">addArray</a></b>(target, source)
								</div>
								<div class="description">Add array a2 onto a1</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/ScriptUtils_QueryHelper.html#autoAddExtraFields">autoAddExtraFields</a></b>(onOff)
								</div>
								<div class="description">Enable/Disable addExtraFields() - default enable - mainly for testing</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/ScriptUtils_QueryHelper.html#queryAll">queryAll</a></b>(queryDef)
								</div>
								<div class="description">Query items and return fields 
Any dot-walked Fields in the select list are fetched during the query using addExtraField()</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/ScriptUtils_QueryHelper.html#querySafe">querySafe</a></b>(any_gr)
								</div>
								<div class="description">Run a query only if query is valid</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/ScriptUtils_QueryHelper.html#rowsExtractField">rowsExtractField</a></b>(rowsIn, dotWalkName, fieldName)
								</div>
								<div class="description">Extract the field from the row</div>
							</td>
						</tr>
					
					</tbody>
				</table>
				
				
				
			
<!-- ============================== events summary ======================== -->
			

<!-- ============================== constructor details ==================== -->		
			
			<div class="details"><a name="constructor"> </a>
				<div class="sectionTitle">
					Class Detail
				</div>
				
				<div class="fixedFont">
						<b>ScriptUtils_QueryHelper</b>()
				</div>
				
				<div class="description">
					
					
				</div>
				
				
				
				<pre class="code">

    returns :
     [
          { sys_id: "...", parent: { sys_id:"..", sys_class_name:"..." } , child: { sys_id:"..", correlation_id:"..."} }
     ]

     It is not streaming, it does NOT support function calls for each row, it fetches ALL results.
     Joins are implicit via dot.walked fields.

     Notes: 
     SQL was probably prohibited for security reasons , and functionality as it doesnt use the class model.
     Unknown fields were probably dropped from the Glide query to simplify queries at different class levels?

     Notes:
     addJoinTable 
     
          creates  a sub query place holder (CHILD IN PLACEHOLDER) - use case is filtering on documentId fields.

     addExtraField
          addExtraField('child.xxx) appears to also fetch name, sys_class_name, sys_id 
     it makes no difference to the encoded query on the GR. 
     It does NOT return error status to application but is ignored. (error is logged but not flagged in calling code) typical SN)

     To verify if a dot.walked field will force a DB query check if the propery exists before accessing it
     (NB it looks like GlideRecord is now more opaque and lo longer exposes internal methods at the field level)

     So fetched = ('sys_id' in gr.child );</pre>
				
				
				
				
					
					
					
					
					
					
					

			</div>
			

<!-- ============================== field details ========================== -->		
			

<!-- ============================== method details ========================= -->		
			
				<div class="sectionTitle">
					Method Detail
				</div>
				
					<a name="addArray"> </a>
					<div class="fixedFont">
					
					
					<b>addArray</b>(target, source)
					
					</div>
					<div class="description">
						Add array a2 onto a1
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{Array}</span> <b>target</b>
									
								</dt>
								<dd></dd>
							
								<dt>
									<span class="light fixedFont">{Array}</span> <b>source</b>
									
								</dt>
								<dd></dd>
							
							</dl>
						
						
						
						
						
						
						

					<hr />
				
					<a name="autoAddExtraFields"> </a>
					<div class="fixedFont">
					
					
					<b>autoAddExtraFields</b>(onOff)
					
					</div>
					<div class="description">
						Enable/Disable addExtraFields() - default enable - mainly for testing
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{boolean}</span> <b>onOff</b>
									
								</dt>
								<dd></dd>
							
							</dl>
						
						
						
						
						
						
						

					<hr />
				
					<a name="queryAll"> </a>
					<div class="fixedFont">
					
					<span class="light">{string[]|RowResultFieldValues[]}</span>
					<b>queryAll</b>(queryDef)
					
					</div>
					<div class="description">
						Query items and return fields 
Any dot-walked Fields in the select list are fetched during the query using addExtraField()
						
						
					</div>
					
					
					
					<pre class="code">    let q = {
        select : [ 'user.name', 'user.last_name', 'group.name' ],
        from : 'sys_user_grmember',
        where: [
            [ 'user.first_name' , 'IN',  'Alex,John'  ]
            [ 'user.first_name' , ['Alex','John']  ] // Arrays can be passed directly - this is the same as above
        ]
    }
     let api = new ScriptUtils_QueryHelper();
     let rows = api.queryAll(q);
     for(r of rows) {
        gs.info(JSON.stringify(r));
        gs.info(r.user.last_name);
     }

     OUTPUT:
     {"sys_id":"44c85601d7b3020058c92cf65e6103e1","user":{"sys_id":"ff969201d7b3020058c92cf65e61036d","last_name":"Ray"}}
     Ray
    {"sys_id":"7c4c2495d703120058c92cf65e6103d5","user":{"sys_id":"36e1e015d703120058c92cf65e6103eb","last_name":"McGibbon"}}
     McGibbon
    
     TODO where is group name</pre>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{object}</span> <b>queryDef</b>
									
								</dt>
								<dd></dd>
							
								<dt>
									<span class="light fixedFont">{SelectList}</span> <b>QueryDef.select</b>
									
								</dt>
								<dd>- if one string return is string[] else RowResultFieldValues[]</dd>
							
								<dt>
									<span class="light fixedFont">{TableName}</span> <b>QueryDef.from</b>
									
								</dt>
								<dd></dd>
							
								<dt>
									<span class="light fixedFont">{WhereList}</span> <b>QueryDef.where</b>
									
								</dt>
								<dd></dd>
							
								<dt>
									<span class="light fixedFont">{integer}</span> <b>QueryDef.limit</b>
									
								</dt>
								<dd></dd>
							
								<dt>
									<span class="light fixedFont">{FieldName[]}</span> <b>QueryDef.orderBy</b>
									
								</dt>
								<dd></dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{string[]|RowResultFieldValues[]}</span> Returns rows - either single vals</dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="querySafe"> </a>
					<div class="fixedFont">
					
					
					<b>querySafe</b>(any_gr)
					
					</div>
					<div class="description">
						Run a query only if query is valid
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{GlideRecord}</span> <b>any_gr</b>
									
								</dt>
								<dd></dd>
							
							</dl>
						
						
						
						
						
						
						

					<hr />
				
					<a name="rowsExtractField"> </a>
					<div class="fixedFont">
					
					<span class="light">{string[]}</span>
					<b>rowsExtractField</b>(rowsIn, dotWalkName, fieldName)
					
					</div>
					<div class="description">
						Extract the field from the row
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{RowResultFieldValues[]}</span> <b>rowsIn</b>
									
								</dt>
								<dd></dd>
							
								<dt>
									<span class="light fixedFont">{string}</span> <b>dotWalkName</b>
									
								</dt>
								<dd>eg 'parent', 'child' , ''</dd>
							
								<dt>
									<span class="light fixedFont">{string}</span> <b>fieldName</b>
									
								</dt>
								<dd></dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{string[]}</span> list of field values</dd>
							
							</dl>
						
						
						

					
				
			
			
<!-- ============================== event details ========================= -->		
			
			
			<hr />
		</div>

		
<!-- ============================== footer ================================= -->
		<div class="fineprint" style="clear:both">
			
			Documentation generated by <a href="http://code.google.com/p/jsdoc-toolkit/" target="_blank">JsDoc Toolkit</a> 2.4.0 on Mon Aug 25 2025 13:52:40 GMT+0100 (BST)
		</div>
	</body>
</html>
